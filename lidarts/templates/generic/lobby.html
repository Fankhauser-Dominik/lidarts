{% extends "base.html" %}
{% block title %}Login{% endblock %}

{% block app_content %}

<div class="row justify-content-center mb-3">
    <div class="col-md-9">
        <div class="row">
            <div class="col-auto">
                <div class="card bg-light text-dark">
                    <div class="card-body">
                        <h2 class="card-text">Welcome back {{ current_user.username }}!</h2>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="row justify-content-center">
    <div class="col-md-4 col-xl-3">
        <div class="card bg-light text-dark bs-callout bs-callout-info">
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-gamepad"></i> Play</h5>
                <hr>
                <a href="{{ url_for('game.create') }}" class="no-underline">
                    <div class="card bg-info text-light text-center">
                        <div class="card-body">
                            <h5 class="card-text">Create game</h5>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <div class="col-md-4 col-xl-3">
        <div class="card bg-light text-dark bs-callout bs-callout-warning">
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-envelope"></i> Notifications</h5>
                <hr>
                <!-- GAMES IN PROGRESS -->
                {% if games_in_progress %}
                <p>Games in progress:</p>
                {% for game in games_in_progress %}
                <p><a href="{{ url_for('game.start', hashid=game.hashid) }}">vs.
                    {%- if game.player1 != current_user.id %} {{ player_names[game.player1] }}
                    {%- elif game.player2 != current_user.id %} {{ player_names[game.player2] }}
                    {%- else %} local guest{% endif %}
                    - [{{ game.p1_sets }}:{{ game.p2_sets }}, {{ game.p1_legs }}:{{ game.p2_legs }}]</a></p>
                {% endfor %}
                <hr>
                {% endif %}
                <!-- NEW CHALLENGES -->
                {% if challenges %}
                <hr>
                {% endif %}

            </div>
        </div>
    </div>
    <div class="col-md-4 col-xl-3">
        <div class="card bg-light text-dark bs-callout bs-callout-danger">
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-user-friends"></i> Friends online</h5>
                <hr>
                {% if not friends_online %}None{% endif %}
            </div>
        </div>
    </div>
</div>




{% endblock %}
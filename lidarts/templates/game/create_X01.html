{% extends "base.html" %}

{% block app_content %}
<div class="row justify-content-center mb-2">
    <div class="col-sm-6 text-center">
        <div class="card">
            <div class="card-body">
                <div class="row justify-content-center">
                    <h1>{{ _('Create Game') }}</h1>
                </div>

                <hr>

                <div class="row justify-content-center text-secondary">
                    <div class="col-sm-6 text-right align-self-center ">
                        {{ _('Game Mode') }}:
                    </div>
                    <div class="col-sm-6 align-self-center text-left">
                        <div class="dropdown show">
                            <a class="btn btn-info dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                X01
                            </a>
                            <div class="dropdown-menu" aria-labelledby="gameModeDropdown">
                                <a class="dropdown-item" href="{{ url_for('game.create') }}/x01">X01</a>
                                <a class="dropdown-item" href="#">Cricket</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<form action="" method="post">
    {{ form.hidden_tag() }}

    <div class="row justify-content-center text-secondary">
        <div class="col-md-4 col-sm-6">
            <div class="card">
                <div class="card-body">
                    <p>{{ form.type.label(class="control-label") }}:
                        {{ form.type(class="form-control custom-select") }}</p>

                    <p>{{ form.opponent.label(class="col-form-label") }}:
                        {{ form.opponent(class="custom-select", onchange="computercheck(this);") }}</p>

                    <p style="display: none;" id="bot_choice">{{ form.bot_choice.label(class="col-form-label") }}:
                        {{ form.bot_choice(class="custom-select", onchange="bot_choice_check(this);") }}</p>

                    <p style="display: none;" id="levels">{{ form.level.label(class="col-form-label") }}:
                        {{ form.level(class="custom-select") }}

                    <p id="opponent_name">{{ form.opponent_name.label(class="col-form-label") }}:
                        {{ form.opponent_name(class="form-control") }}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-6">
            <div class="card">
                <div class="card-body">
                    <p>{{ form.starter.label(class="col-form-label") }}:
                        {{ form.starter(class="custom-select") }}</p>

                    <p>{{ form.set_mode.label(class="col-form-label") }}:
                        {{ form.set_mode(onchange="set_mode_check(this);") }}</p>

                    <p style="display: none;" id="bo_sets">{{ form.bo_sets.label(class="col-form-label") }}:
                        {{ form.bo_sets(class="custom-select") }}</p>

                    <p>{{ form.bo_legs.label(class="col-form-label") }}:
                        {{ form.bo_legs(class="custom-select") }}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-6 mb-sm-1">
            <div class="card">
                <div class="card-body">
                    <p>{{ form.in_mode.label(class="col-form-label") }}:
                        {{ form.in_mode(class="custom-select") }}</p>

                    <p>{{ form.out_mode.label(class="col-form-label") }}:
                        {{ form.out_mode(class="custom-select") }}</p>
                </div>
            </div>
        </div>
        <div class="col-sm-6"></div>
    </div>
    <div class="row justify-content-center text-center">
        <div class="col-sm-3">{{ form.submit(class="btn btn-lg btn-info") }}</div>
    </div>
</form>


{% endblock %}

{% block scripts %}
<script type="text/javascript">
    function computercheck(that) {
        if (that.value == 'computer') {
            document.getElementById("bot_choice").style.display = "block";
            document.getElementById("levels").style.display = "block";
            document.getElementById("opponent_name").style.display = "none";
        } else if (that.value == 'online') {
            document.getElementById("bot_choice").style.display = "none";
            document.getElementById("opponent_name").style.display = "block";
            document.getElementById("levels").style.display = "none";
        } else {
            document.getElementById("bot_choice").style.display = "none";
            document.getElementById("levels").style.display = "none";
            document.getElementById("opponent_name").style.display = "none";
        }
    };

    function bot_choice_check(that) {
        if (that.value == 'level') {
            document.getElementById("levels").style.display = "block";
        } else {
            document.getElementById("levels").style.display = "none";
        }
    }

    function set_mode_check(that) {
        if (that.checked) {
            document.getElementById("bo_sets").style.display = "block";
        } else {
            document.getElementById("bo_sets").style.display = "none";
        }
    }
</script>
{% endblock %}